# ğŸ“ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„ Ù„Ø¨Ù†Ø§Ø¡ Ù†Ø¸Ø§Ù… Clinic_API Ù…Ù† Ø§Ù„ØµÙØ± Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø­ØªØ±Ø§Ù

## Ù…Ù‚Ø¯Ù…Ø©

Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø±Ø­Ù„Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø´Ø§Ù…Ù„Ø© Ù„Ø¨Ù†Ø§Ø¡ Ù†Ø¸Ø§Ù… **Clinic_API** Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… ØªÙ‚Ù†ÙŠØ© **Minimal API** ÙÙŠ **.NET 9**. Ù‡Ø°Ø§ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ù…ØµÙ…Ù… Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ø·Ù„Ø§Ø¨ ÙˆØ§Ù„Ù…Ø·ÙˆØ±ÙŠÙ† Ø§Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† Ø§Ù„Ø°ÙŠÙ† ÙŠØ±ÙŠØ¯ÙˆÙ† ØªØ¹Ù„Ù… Ø¨Ù†Ø§Ø¡ ÙˆØ§Ø¬Ù‡Ø§Øª Ø¨Ø±Ù…Ø¬ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©.

### Ù…Ø§ Ø§Ù„Ø°ÙŠ Ø³ØªØªØ¹Ù„Ù…Ù‡ØŸ

- âœ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Ø¹Ù„Ù‰ GitHub ÙˆØ¥Ø¯Ø§Ø±ØªÙ‡
- âœ… Ø¨Ù†Ø§Ø¡ Minimal API Ù…Ù† Ø§Ù„ØµÙØ±
- âœ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª SQL Server
- âœ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Entity Framework Core
- âœ… ØªØ·Ø¨ÙŠÙ‚ JWT Authentication
- âœ… ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙƒÙˆØ¯ Ø¨Ø´ÙƒÙ„ Ø§Ø­ØªØ±Ø§ÙÙŠ
- âœ… Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª ÙÙŠ ØªØ·ÙˆÙŠØ± APIs

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„: Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ¦Ø© ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª ğŸ› ï¸

Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø¡ ÙÙŠ Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©ØŒ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ¬Ù‡ÙŠØ² Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¹Ù…Ù„ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø©.

### 1.1 Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

#### ØªØ«Ø¨ÙŠØª .NET 9 SDK

**.NET SDK** Ù‡Ùˆ Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬Ù‡Ø§ Ù„Ø¨Ù†Ø§Ø¡ ÙˆØªØ´ØºÙŠÙ„ ØªØ·Ø¨ÙŠÙ‚Ø§Øª .NET.

**Ø§Ù„Ø®Ø·ÙˆØ§Øª:**
1. Ø§ÙØªØ­ Ø§Ù„Ù…ØªØµÙØ­ ÙˆØ§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://dotnet.microsoft.com/download
2. Ø­Ù…Ù‘Ù„ **.NET 9 SDK** (ÙˆÙ„ÙŠØ³ Runtime ÙÙ‚Ø·)
3. Ø´ØºÙ‘Ù„ Ù…Ù„Ù Ø§Ù„ØªØ«Ø¨ÙŠØª ÙˆØ§ØªØ¨Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª
4. Ø¨Ø¹Ø¯ Ø§Ù„ØªØ«Ø¨ÙŠØªØŒ Ø§ÙØªØ­ **Command Prompt** Ø£Ùˆ **PowerShell** ÙˆØ§ÙƒØªØ¨:

```bash
dotnet --version
```

**Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:** Ø³ØªØ±Ù‰ Ø±Ù‚Ù… Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ù…Ø«Ù„ `9.0.0`

> [!TIP]
> Ø¥Ø°Ø§ Ù„Ù… ÙŠØ¹Ù…Ù„ Ø§Ù„Ø£Ù…Ø±ØŒ Ø£Ø¹Ø¯ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¬Ù‡Ø§Ø² ÙˆØ­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.

#### ØªØ«Ø¨ÙŠØª Visual Studio Code

**VS Code** Ù‡Ùˆ Ù…Ø­Ø±Ø± Ù†ØµÙˆØµ Ù‚ÙˆÙŠ ÙˆÙ…Ø¬Ø§Ù†ÙŠØŒ Ù…Ø«Ø§Ù„ÙŠ Ù„ØªØ·ÙˆÙŠØ± .NET.

**Ø§Ù„Ø®Ø·ÙˆØ§Øª:**
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://code.visualstudio.com
2. Ø­Ù…Ù‘Ù„ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ Ù„Ø¯ÙŠÙƒ
3. Ø«Ø¨Ù‘Øª Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬

**Ø§Ù„Ø¥Ø¶Ø§ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (Extensions):**

Ø¨Ø¹Ø¯ ØªØ«Ø¨ÙŠØª VS CodeØŒ Ø§ÙØªØ­Ù‡ ÙˆØ§Ø¶ØºØ· `Ctrl+Shift+X` Ù„ÙØªØ­ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø¶Ø§ÙØ§ØªØŒ Ø«Ù… Ø«Ø¨Ù‘Øª:

1. **C# Dev Kit** - Ù„Ù„Ø¯Ø¹Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„ØºØ© C#
2. **C#** - Ù…Ù† Microsoft
3. **NuGet Package Manager** - Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø²Ù…
4. **REST Client** Ø£Ùˆ **Thunder Client** - Ù„Ø§Ø®ØªØ¨Ø§Ø± APIs

#### ØªØ«Ø¨ÙŠØª SQL Server

Ù†Ø­ØªØ§Ø¬ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.

**Ø§Ù„Ø®ÙŠØ§Ø± 1: SQL Server Express (Ù…Ø¬Ø§Ù†ÙŠ)**
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://www.microsoft.com/sql-server/sql-server-downloads
2. Ø­Ù…Ù‘Ù„ **SQL Server Express**
3. Ø«Ø¨Ù‘Øª Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©

**Ø§Ù„Ø®ÙŠØ§Ø± 2: SQL Server Management Studio (SSMS)**
- Ø£Ø¯Ø§Ø© Ø±Ø³ÙˆÙ…ÙŠØ© Ù„Ø¥Ø¯Ø§Ø±Ø© Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- Ø­Ù…Ù‘Ù„Ù‡ Ù…Ù†: https://aka.ms/ssmsfullsetup

#### ØªØ«Ø¨ÙŠØª Git

**Git** Ù‡Ùˆ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¥ØµØ¯Ø§Ø±Ø§Øª.

**Ø§Ù„Ø®Ø·ÙˆØ§Øª:**
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://git-scm.com
2. Ø­Ù…Ù‘Ù„ Git Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ Ù„Ø¯ÙŠÙƒ
3. Ø«Ø¨Ù‘Øª Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù…Ø¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
4. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ«Ø¨ÙŠØª:

```bash
git --version
```

**Ø¥Ø¹Ø¯Ø§Ø¯ Git:**

```bash
git config --global user.name "Ø§Ø³Ù…Ùƒ"
git config --global user.email "Ø¨Ø±ÙŠØ¯Ùƒ@example.com"
```

#### Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ GitHub

1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://github.com
2. Ø§Ø¶ØºØ· **Sign Up**
3. Ø£ÙƒÙ…Ù„ Ø§Ù„ØªØ³Ø¬ÙŠÙ„

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ: Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¹Ù„Ù‰ GitHub ğŸŒ

Ø§Ù„Ø¢Ù† Ø³Ù†Ù†Ø´Ø¦ Ù…Ø³ØªÙˆØ¯Ø¹ (Repository) Ø¹Ù„Ù‰ GitHub Ù„Ø­ÙØ¸ Ø§Ù„ÙƒÙˆØ¯.

### 2.1 Ø¥Ù†Ø´Ø§Ø¡ Repository Ø¬Ø¯ÙŠØ¯

**Ø§Ù„Ø®Ø·ÙˆØ§Øª:**

1. Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ø¥Ù„Ù‰ GitHub
2. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± **+** ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ Ø«Ù… **New repository**
3. Ø§Ù…Ù„Ø£ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª:
   - **Repository name:** `Clinic2026`
   - **Description:** `Clinic Management API using .NET 9 Minimal API`
   - Ø§Ø®ØªØ± **Public** Ø£Ùˆ **Private**
   - âœ… Ø¶Ø¹ Ø¹Ù„Ø§Ù…Ø© Ø¹Ù„Ù‰ **Add a README file**
   - Ø§Ø®ØªØ± **.gitignore template:** `VisualStudio`
   - Ø§Ø®ØªØ± **License:** `MIT` (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
4. Ø§Ø¶ØºØ· **Create repository**

### 2.2 Ø§Ø³ØªÙ†Ø³Ø§Ø® Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø­Ù„ÙŠØ§Ù‹

Ø§Ù„Ø¢Ù† Ø³Ù†Ù†Ø³Ø® Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ù† GitHub Ø¥Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ.

**Ø§Ù„Ø®Ø·ÙˆØ§Øª:**

1. ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¹Ù„Ù‰ GitHubØŒ Ø§Ø¶ØºØ· Ø§Ù„Ø²Ø± Ø§Ù„Ø£Ø®Ø¶Ø± **Code**
2. Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· (HTTPS)
3. Ø§ÙØªØ­ **Command Prompt** Ø£Ùˆ **PowerShell**
4. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„ ÙÙŠÙ‡:

```bash
cd D:\VisualCode
```

5. Ø§Ø³ØªÙ†Ø³Ø® Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:

```bash
git clone https://github.com/username/Clinic2026.git
```

6. Ø§Ø¯Ø®Ù„ Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:

```bash
cd Clinic2026
```

### 2.3 ÙÙ‡Ù… Git Workflow Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ

**Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø§Ù„ØªÙŠ Ø³ØªØ³ØªØ®Ø¯Ù…Ù‡Ø§:**

```bash
# 1. Ù…Ø¹Ø±ÙØ© Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù„ÙØ§Øª
git status

# 2. Ø¥Ø¶Ø§ÙØ© Ù…Ù„ÙØ§Øª Ù„Ù„ØªØªØ¨Ø¹
git add .

# 3. Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª (Commit)
git commit -m "ÙˆØµÙ Ø§Ù„ØªØºÙŠÙŠØ±"

# 4. Ø±ÙØ¹ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø¥Ù„Ù‰ GitHub
git push

# 5. Ø¬Ù„Ø¨ Ø¢Ø®Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ù…Ù† GitHub
git pull
```

> [!IMPORTANT]
> Ø§Ø­ÙØ¸ Ø¹Ù…Ù„Ùƒ Ø¨Ø§Ù†ØªØ¸Ø§Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `git add .` Ø«Ù… `git commit` Ø«Ù… `git push`

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù„Ø«: Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Clinic_API ğŸš€

Ø§Ù„Ø¢Ù† Ø³Ù†Ù†Ø´Ø¦ Ù…Ø´Ø±ÙˆØ¹ Minimal API Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹.

### 3.1 Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

**Ø§Ù„Ø®Ø·ÙˆØ§Øª:**

1. ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ Ø¯Ø§Ø®Ù„ Ù…Ø¬Ù„Ø¯ `Clinic2026`
2. Ø£Ù†Ø´Ø¦ Ù…Ø´Ø±ÙˆØ¹ API Ø¬Ø¯ÙŠØ¯:

```bash
dotnet new webapi -n Clinic_API
```

**Ø´Ø±Ø­ Ø§Ù„Ø£Ù…Ø±:**
- `dotnet new` - Ø£Ù…Ø± Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯
- `webapi` - Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (Web API)
- `-n Clinic_API` - Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

3. Ø§Ø¯Ø®Ù„ Ø¥Ù„Ù‰ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:

```bash
cd Clinic_API
```

### 3.2 ÙÙ‡Ù… Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

Ø¨Ø¹Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ Ø³ØªØ¬Ø¯ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:

```
Clinic_API/
â”œâ”€â”€ Properties/
â”‚   â””â”€â”€ launchSettings.json    # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ´ØºÙŠÙ„
â”œâ”€â”€ appsettings.json            # Ù…Ù„Ù Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
â”œâ”€â”€ appsettings.Development.json # Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ·ÙˆÙŠØ±
â”œâ”€â”€ Clinic_API.csproj           # Ù…Ù„Ù Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
â””â”€â”€ Program.cs                  # Ù†Ù‚Ø·Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
```

### 3.3 Ø´Ø±Ø­ Ù…Ù„Ù Program.cs

Ø§ÙØªØ­ Ù…Ù„Ù `Program.cs` - Ù‡Ø°Ø§ Ù‡Ùˆ Ù‚Ù„Ø¨ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:

```csharp
var builder = WebApplication.CreateBuilder(args);

// Add services to the container.
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();

var app = builder.Build();

// Configure the HTTP request pipeline.
if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI();
}

app.UseHttpsRedirection();

var summaries = new[]
{
    "Freezing", "Bracing", "Chilly", "Cool", "Mild", "Warm", "Balmy", "Hot", "Sweltering", "Scorching"
};

app.MapGet("/weatherforecast", () =>
{
    var forecast =  Enumerable.Range(1, 5).Select(index =>
        new WeatherForecast
        (
            DateOnly.FromDateTime(DateTime.Now.AddDays(index)),
            Random.Shared.Next(-20, 55),
            summaries[Random.Shared.Next(summaries.Length)]
        ))
        .ToArray();
    return forecast;
})
.WithName("GetWeatherForecast")
.WithOpenApi();

app.Run();

record WeatherForecast(DateOnly Date, int TemperatureC, string? Summary)
{
    public int TemperatureF => 32 + (int)(TemperatureC / 0.5556);
}
```

**Ø´Ø±Ø­ Ø§Ù„ÙƒÙˆØ¯:**

1. **`var builder = WebApplication.CreateBuilder(args);`**
   - ÙŠÙ†Ø´Ø¦ "Ø¨Ù†Ø§Ø¡" Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

2. **`builder.Services.AddEndpointsApiExplorer();`**
   - ÙŠØ¶ÙŠÙ Ø®Ø¯Ù…Ø© Ù„Ø§Ø³ØªÙƒØ´Ø§Ù Endpoints

3. **`builder.Services.AddSwaggerGen();`**
   - ÙŠØ¶ÙŠÙ Swagger Ù„Ù„ØªÙˆØ«ÙŠÙ‚

4. **`var app = builder.Build();`**
   - ÙŠØ¨Ù†ÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

5. **`app.UseSwagger();` Ùˆ `app.UseSwaggerUI();`**
   - ÙŠÙØ¹Ù‘Ù„ ÙˆØ§Ø¬Ù‡Ø© Swagger

6. **`app.MapGet("/weatherforecast", ...)`**
   - ÙŠÙ†Ø´Ø¦ endpoint Ù„Ù„Ø·Ù‚Ø³ (Ù…Ø«Ø§Ù„ Ø§ÙØªØ±Ø§Ø¶ÙŠ)

### 3.4 ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©

```bash
dotnet run
```

Ø£Ùˆ Ù„Ù„ØªØ´ØºÙŠÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ© (Hot Reload):

```bash
dotnet watch run
```

**Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:**

```
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: https://localhost:7001
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://localhost:5000
```

Ø§ÙØªØ­ Ø§Ù„Ù…ØªØµÙØ­ ÙˆØ§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: `https://localhost:7001/swagger`

### 3.5 ÙÙ‡Ù… Swagger UI

**Swagger** Ù‡Ùˆ ÙˆØ§Ø¬Ù‡Ø© ØªÙØ§Ø¹Ù„ÙŠØ© Ù„ØªÙˆØ«ÙŠÙ‚ ÙˆØ§Ø®ØªØ¨Ø§Ø± API.

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**
- **Endpoints List** - Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¬Ù…ÙŠØ¹ Ù†Ù‚Ø§Ø· Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
- **Try it out** - Ø²Ø± Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù€ endpoint
- **Execute** - ØªÙ†ÙÙŠØ° Ø§Ù„Ø·Ù„Ø¨
- **Response** - Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©

Ø¬Ø±Ù‘Ø¨ Ø§Ù„Ø¢Ù†:
1. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ `/weatherforecast`
2. Ø§Ø¶ØºØ· **Try it out**
3. Ø§Ø¶ØºØ· **Execute**
4. Ø´Ø§Ù‡Ø¯ Ø§Ù„Ù†ØªÙŠØ¬Ø©

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø±Ø§Ø¨Ø¹: ØªØ«Ø¨ÙŠØª Ø­Ø²Ù… NuGet ğŸ“¦

**NuGet** Ù‡Ùˆ Ù…Ø¯ÙŠØ± Ø§Ù„Ø­Ø²Ù… Ù„Ù€ .NET. Ø³Ù†Ø«Ø¨Øª Ø§Ù„Ø­Ø²Ù… Ø§Ù„Ù„Ø§Ø²Ù…Ø© Ù„Ù…Ø´Ø±ÙˆØ¹Ù†Ø§.

### 4.1 Ø§Ù„Ø­Ø²Ù… Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

#### Entity Framework Core - SQL Server

```bash
dotnet add package Microsoft.EntityFrameworkCore.SqlServer --version 9.0.0
```

**Ø§Ù„ØºØ±Ø¶:** Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª SQL Server

#### Entity Framework Core - Tools

```bash
dotnet add package Microsoft.EntityFrameworkCore.Tools --version 9.0.0
```

**Ø§Ù„ØºØ±Ø¶:** Ø£Ø¯ÙˆØ§Øª Migrations Ùˆ Scaffolding

#### JWT Authentication

```bash
dotnet add package Microsoft.AspNetCore.Authentication.JwtBearer --version 9.0.0
```

**Ø§Ù„ØºØ±Ø¶:** Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… JWT Tokens

#### Swagger/OpenAPI

```bash
dotnet add package Swashbuckle.AspNetCore --version 7.2.0
```

```bash
dotnet add package Microsoft.AspNetCore.OpenApi --version 9.0.0
```

**Ø§Ù„ØºØ±Ø¶:** ØªÙˆØ«ÙŠÙ‚ API

### 4.2 Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ«Ø¨ÙŠØª

Ø§ÙØªØ­ Ù…Ù„Ù `Clinic_API.csproj` ÙˆØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø­Ø²Ù…:

```xml
<Project Sdk="Microsoft.NET.Sdk.Web">
  <PropertyGroup>
    <TargetFramework>net9.0</TargetFramework>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Microsoft.AspNetCore.Authentication.JwtBearer" Version="9.0.0" />
    <PackageReference Include="Microsoft.AspNetCore.OpenApi" Version="9.0.0" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.SqlServer" Version="9.0.0" />
    <PackageReference Include="Microsoft.EntityFrameworkCore.Tools" Version="9.0.0" />
    <PackageReference Include="Swashbuckle.AspNetCore" Version="7.2.0" />
  </ItemGroup>
</Project>
```

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø®Ø§Ù…Ø³: Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‡Ø§ ğŸ—„ï¸

### 5.1 Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

**Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… SSMS:**

1. Ø§ÙØªØ­ **SQL Server Management Studio**
2. Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ± (Ø¹Ø§Ø¯Ø© `localhost` Ø£Ùˆ `.\SQLEXPRESS`)
3. Ø§Ù†Ù‚Ø± Ø¨Ø§Ù„Ø²Ø± Ø§Ù„Ø£ÙŠÙ…Ù† Ø¹Ù„Ù‰ **Databases**
4. Ø§Ø®ØªØ± **New Database**
5. Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©: `Clinic2026`
6. Ø§Ø¶ØºØ· **OK**

**Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… SQL Query:**

```sql
CREATE DATABASE Clinic2026;
GO

USE Clinic2026;
GO
```

### 5.2 Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ

Ù„Ù†Ø¨Ø¯Ø£ Ø¨Ø¬Ø¯ÙˆÙ„ Ø¨Ø³ÙŠØ· Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†:

```sql
CREATE TABLE TBL_Users (
    UserName NVARCHAR(100) PRIMARY KEY,
    PasswordHash NVARCHAR(255) NOT NULL,
    FullName NVARCHAR(150),
    Email NVARCHAR(120),
    IsActive BIT DEFAULT 1,
    CreatedOn SMALLDATETIME DEFAULT GETUTCDATE()
);
GO

-- Ø¥Ø¯Ø±Ø§Ø¬ Ù…Ø³ØªØ®Ø¯Ù… ØªØ¬Ø±ÙŠØ¨ÙŠ
INSERT INTO TBL_Users (UserName, PasswordHash, FullName, Email)
VALUES ('admin', 'hashed_password_here', 'System Administrator', 'admin@clinic.com');
GO
```

### 5.3 Ø¥Ø¹Ø¯Ø§Ø¯ Connection String

Ø§ÙØªØ­ Ù…Ù„Ù `appsettings.json` ÙˆØ£Ø¶Ù:

```json
{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "ConnectionStrings": {
    "DefaultConnection": "Server=localhost;Database=Clinic2026;Integrated Security=True;TrustServerCertificate=True"
  },
  "AllowedHosts": "*"
}
```

**Ø´Ø±Ø­ Connection String:**

- `Server=localhost` - Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±
- `Database=Clinic2026` - Ø§Ø³Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- `Integrated Security=True` - Ø§Ø³ØªØ®Ø¯Ø§Ù… Windows Authentication
- `TrustServerCertificate=True` - Ø§Ù„Ø«Ù‚Ø© Ø¨Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø³ÙŠØ±ÙØ± (Ù„Ù„ØªØ·ÙˆÙŠØ±)

> [!NOTE]
> Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ³ØªØ®Ø¯Ù… SQL Server ExpressØŒ Ù‚Ø¯ ØªØ­ØªØ§Ø¬: `Server=.\\SQLEXPRESS`

**Ù„Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Username/Password:**

```json
"DefaultConnection": "Server=localhost;Database=Clinic2026;User Id=sa;Password=YourPassword;TrustServerCertificate=True"
```

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø³Ø§Ø¯Ø³: Entity Framework Core - Database First ğŸ—ï¸

### 6.1 Ù…ÙÙ‡ÙˆÙ… Database First

ÙÙŠ Ù†Ù‡Ø¬ **Database First**:
1. âœ… Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¨Ø§Ù„ÙØ¹Ù„
2. âœ… Ù†Ø³ØªØ®Ø¯Ù… Ø£Ø¯ÙˆØ§Øª EF Core Ù„Ø¥Ù†Ø´Ø§Ø¡ Models Ù…Ù† Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
3. âœ… Ù…Ù†Ø§Ø³Ø¨ Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¯ÙŠÙ…Ø©

**Ø§Ù„Ø¨Ø¯ÙŠÙ„:** Code First (ØªÙƒØªØ¨ Models Ø£ÙˆÙ„Ø§Ù‹ Ø«Ù… ØªÙ†Ø´Ø¦ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª)

### 6.2 Scaffold Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

**Ø§Ù„Ø£Ù…Ø± Ø§Ù„ÙƒØ§Ù…Ù„:**

```bash
dotnet ef dbcontext scaffold "Server=localhost;Database=Clinic2026;Integrated Security=True;TrustServerCertificate=True" Microsoft.EntityFrameworkCore.SqlServer --output-dir Models --context-dir Data --context ClinicDbContext --force
```

**Ø´Ø±Ø­ Ø§Ù„Ø£Ù…Ø±:**

- `dotnet ef dbcontext scaffold` - Ø£Ù…Ø± Ø¥Ù†Ø´Ø§Ø¡ DbContext Ùˆ Models
- `"Server=..."` - Connection String
- `Microsoft.EntityFrameworkCore.SqlServer` - Provider Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
- `--output-dir Models` - Ù…Ø¬Ù„Ø¯ Models
- `--context-dir Data` - Ù…Ø¬Ù„Ø¯ DbContext
- `--context ClinicDbContext` - Ø§Ø³Ù… DbContext
- `--force` - Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø©

**Ø§Ù„Ù†ØªÙŠØ¬Ø©:**

```
Clinic_API/
â”œâ”€â”€ Data/
â”‚   â””â”€â”€ ClinicDbContext.cs
â””â”€â”€ Models/
    â””â”€â”€ TblUser.cs
```

### 6.3 ÙÙ‡Ù… DbContext

Ø§ÙØªØ­ `Data/ClinicDbContext.cs`:

```csharp
using Microsoft.EntityFrameworkCore;

namespace Clinic_API.Data;

public partial class ClinicDbContext : DbContext
{
    public ClinicDbContext()
    {
    }

    public ClinicDbContext(DbContextOptions<ClinicDbContext> options)
        : base(options)
    {
    }

    public virtual DbSet<TblUser> TblUsers { get; set; }

    protected override void OnModelCreating(ModelBuilder modelBuilder)
    {
        modelBuilder.Entity<TblUser>(entity =>
        {
            entity.HasKey(e => e.UserName);
            entity.ToTable("TBL_Users");

            entity.Property(e => e.UserName).HasMaxLength(100);
            entity.Property(e => e.PasswordHash).HasMaxLength(255);
            // ... Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        });
    }
}
```

**Ø´Ø±Ø­:**
- `DbSet<TblUser>` - ÙŠÙ…Ø«Ù„ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
- `OnModelCreating` - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª

### 6.4 ÙÙ‡Ù… Model

Ø§ÙØªØ­ `Models/TblUser.cs`:

```csharp
namespace Clinic_API.Models;

public partial class TblUser
{
    public string UserName { get; set; } = null!;
    public string PasswordHash { get; set; } = null!;
    public string? FullName { get; set; }
    public string? Email { get; set; }
    public bool? IsActive { get; set; }
    public DateTime? CreatedOn { get; set; }
}
```

**Ø´Ø±Ø­:**
- ÙƒÙ„ Ø®Ø§ØµÙŠØ© (Property) ØªÙ…Ø«Ù„ Ø¹Ù…ÙˆØ¯ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„
- `?` ØªØ¹Ù†ÙŠ nullable (ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† null)
- `= null!` ØªØ¹Ù†ÙŠ non-nullable

### 6.5 ØªØ³Ø¬ÙŠÙ„ DbContext ÙÙŠ DI Container

Ø§ÙØªØ­ `Program.cs` ÙˆØ£Ø¶Ù Ù‚Ø¨Ù„ `var app = builder.Build();`:

```csharp
using Clinic_API.Data;
using Microsoft.EntityFrameworkCore;

var builder = WebApplication.CreateBuilder(args);

// Ø¥Ø¶Ø§ÙØ© DbContext
builder.Services.AddDbContext<ClinicDbContext>(options =>
    options.UseSqlServer(
        builder.Configuration.GetConnectionString("DefaultConnection")));

// Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø®Ø¯Ù…Ø§Øª...
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();

var app = builder.Build();
```

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø³Ø§Ø¨Ø¹: ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ğŸ“

Ù…Ø¹ Ù†Ù…Ùˆ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ØŒ ÙŠØµØ¨Ø­ Ø§Ù„ØªÙ†Ø¸ÙŠÙ… Ø¶Ø±ÙˆØ±ÙŠØ§Ù‹.

### 7.1 Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ù‚ØªØ±Ø­

```
Clinic_API/
â”œâ”€â”€ Data/                    # DbContext
â”‚   â””â”€â”€ ClinicDbContext.cs
â”œâ”€â”€ Models/                  # Entity Models
â”‚   â”œâ”€â”€ TblUser.cs
â”‚   â”œâ”€â”€ TblRole.cs
â”‚   â””â”€â”€ ...
â”œâ”€â”€ DTOs/                    # Data Transfer Objects
â”‚   â”œâ”€â”€ UserDto.cs
â”‚   â””â”€â”€ LoginDto.cs
â”œâ”€â”€ Extensions/              # Extension Methods
â”‚   â”œâ”€â”€ ServiceCollectionExtensions.cs
â”‚   â”œâ”€â”€ EndpointExtensions.cs
â”‚   â””â”€â”€ WebApplicationExtensions.cs
â”œâ”€â”€ Services/                # Business Logic
â”‚   â””â”€â”€ IEncryptionService.cs
â”œâ”€â”€ Middleware/              # Custom Middleware
â”‚   â””â”€â”€ GlobalExceptionMiddleware.cs
â”œâ”€â”€ wwwroot/                 # Static Files
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ images/
â”œâ”€â”€ Program.cs
â””â”€â”€ appsettings.json
```

### 7.2 Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª

```bash
mkdir Extensions
mkdir DTOs
mkdir Services
mkdir Middleware
mkdir wwwroot
mkdir wwwroot\css
mkdir wwwroot\images
```

### 7.3 Ù…Ø¨Ø¯Ø£ Separation of Concerns

**Ø§Ù„ÙÙƒØ±Ø©:** ÙƒÙ„ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ù„Ù‡ Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·.

- **Models** - ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙ‚Ø·
- **DTOs** - Ù†Ù‚Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ø·Ø¨Ù‚Ø§Øª
- **Services** - Ù…Ù†Ø·Ù‚ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„
- **Extensions** - ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙƒÙˆØ¯
- **Middleware** - Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù…Ù†: Ø¥Ù†Ø´Ø§Ø¡ Ø£ÙˆÙ„ Endpoint ğŸ¯

### 8.1 ÙÙ‡Ù… Minimal API Syntax

ÙÙŠ Minimal APIØŒ Ù†Ù†Ø´Ø¦ endpoints Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¯ÙˆÙ† Controllers:

```csharp
app.MapGet("/path", () => {
    // Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§
});
```

### 8.2 Ø¥Ù†Ø´Ø§Ø¡ GET Endpoint Ø¨Ø³ÙŠØ·

ÙÙŠ `Program.cs`ØŒ Ø£Ø¶Ù Ù‚Ø¨Ù„ `app.Run();`:

```csharp
// GET: Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
app.MapGet("/api/users", async (ClinicDbContext db) =>
{
    var users = await db.TblUsers.ToListAsync();
    return Results.Ok(users);
})
.WithName("GetAllUsers")
.WithTags("Users");
```

**Ø´Ø±Ø­ Ø§Ù„ÙƒÙˆØ¯:**

1. **`app.MapGet("/api/users", ...)`** - ÙŠÙ†Ø´Ø¦ GET endpoint Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± `/api/users`
2. **`async (ClinicDbContext db)`** - Dependency Injection Ù„Ù„Ù€ DbContext
3. **`await db.TblUsers.ToListAsync()`** - Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
4. **`Results.Ok(users)`** - Ø¥Ø±Ø¬Ø§Ø¹ Ù†ØªÙŠØ¬Ø© 200 OK
5. **`.WithName("GetAllUsers")`** - Ø§Ø³Ù… Ù„Ù„Ù€ endpoint
6. **`.WithTags("Users")`** - ØªØµÙ†ÙŠÙ ÙÙŠ Swagger

**Ø§Ø®ØªØ¨Ø§Ø±:**
1. Ø´ØºÙ‘Ù„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹: `dotnet run`
2. Ø§ÙØªØ­ Swagger: `https://localhost:7001/swagger`
3. Ø¬Ø±Ù‘Ø¨ endpoint `/api/users`

### 8.3 Ø¥Ù†Ø´Ø§Ø¡ GET By ID

```csharp
// GET: Ø¬Ù„Ø¨ Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ø­Ø¯
app.MapGet("/api/users/{username}", async (string username, ClinicDbContext db) =>
{
    var user = await db.TblUsers.FindAsync(username);

    if (user == null)
        return Results.NotFound(new { message = "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯" });

    return Results.Ok(user);
})
.WithName("GetUserByUsername")
.WithTags("Users");
```

**Ø´Ø±Ø­:**
- `{username}` - Route Parameter
- `FindAsync(username)` - Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
- `Results.NotFound()` - Ø¥Ø±Ø¬Ø§Ø¹ 404 Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯

### 8.4 Ø¥Ù†Ø´Ø§Ø¡ POST Endpoint

```csharp
// POST: Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
app.MapPost("/api/users", async (TblUser user, ClinicDbContext db) =>
{
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    var exists = await db.TblUsers.AnyAsync(u => u.UserName == user.UserName);
    if (exists)
        return Results.BadRequest(new { message = "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„" });

    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    db.TblUsers.Add(user);
    await db.SaveChangesAsync();

    return Results.Created($"/api/users/{user.UserName}", user);
})
.WithName("CreateUser")
.WithTags("Users");
```

**Ø´Ø±Ø­:**
- `MapPost` - Ù„Ø¥Ù†Ø´Ø§Ø¡ POST endpoint
- `TblUser user` - Ø§Ù„ÙƒØ§Ø¦Ù† ÙŠØ£ØªÙŠ Ù…Ù† Body
- `db.TblUsers.Add(user)` - Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø°Ø§ÙƒØ±Ø©
- `await db.SaveChangesAsync()` - Ø­ÙØ¸ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- `Results.Created()` - Ø¥Ø±Ø¬Ø§Ø¹ 201 Created

### 8.5 Ø¥Ù†Ø´Ø§Ø¡ PUT Endpoint

```csharp
// PUT: ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªØ®Ø¯Ù…
app.MapPut("/api/users/{username}", async (string username, TblUser updatedUser, ClinicDbContext db) =>
{
    var user = await db.TblUsers.FindAsync(username);
    if (user == null)
        return Results.NotFound();

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    user.FullName = updatedUser.FullName;
    user.Email = updatedUser.Email;
    user.IsActive = updatedUser.IsActive;

    await db.SaveChangesAsync();

    return Results.Ok(user);
})
.WithName("UpdateUser")
.WithTags("Users");
```

### 8.6 Ø¥Ù†Ø´Ø§Ø¡ DELETE Endpoint

```csharp
// DELETE: Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…
app.MapDelete("/api/users/{username}", async (string username, ClinicDbContext db) =>
{
    var user = await db.TblUsers.FindAsync(username);
    if (user == null)
        return Results.NotFound();

    db.TblUsers.Remove(user);
    await db.SaveChangesAsync();

    return Results.NoContent();
})
.WithName("DeleteUser")
.WithTags("Users");
```

**Ø´Ø±Ø­:**
- `db.TblUsers.Remove(user)` - Ø­Ø°Ù Ù…Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø©
- `Results.NoContent()` - Ø¥Ø±Ø¬Ø§Ø¹ 204 (Ù†Ø¬Ø­ Ø¨Ø¯ÙˆÙ† Ù…Ø­ØªÙˆÙ‰)

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„ØªØ§Ø³Ø¹: Extension Methods ÙˆØ§Ù„ØªÙ†Ø¸ÙŠÙ… ğŸ§©

Ø§Ù„Ø¢Ù† `Program.cs` Ø£ØµØ¨Ø­ Ù…Ø²Ø¯Ø­Ù…Ø§Ù‹. Ù„Ù†Ù†Ø¸Ù… Ø§Ù„ÙƒÙˆØ¯!

### 9.1 Ø¥Ù†Ø´Ø§Ø¡ ServiceCollectionExtensions

Ø£Ù†Ø´Ø¦ Ù…Ù„Ù `Extensions/ServiceCollectionExtensions.cs`:

```csharp
using Clinic_API.Data;
using Microsoft.EntityFrameworkCore;

namespace Clinic_API.Extensions;

public static class ServiceCollectionExtensions
{
    /// <summary>
    /// Ø¥Ø¶Ø§ÙØ© Ø®Ø¯Ù…Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    /// </summary>
    public static IServiceCollection AddApplicationServices(
        this IServiceCollection services,
        IConfiguration configuration)
    {
        // Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        services.AddDbContext<ClinicDbContext>(options =>
            options.UseSqlServer(
                configuration.GetConnectionString("DefaultConnection")));

        // Swagger
        services.AddEndpointsApiExplorer();
        services.AddSwaggerGen();

        return services;
    }
}
```

**Ø´Ø±Ø­:**
- `this IServiceCollection services` - Extension Method
- Ù†Ø¬Ù…Ø¹ ÙƒÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯

### 9.2 Ø¥Ù†Ø´Ø§Ø¡ EndpointExtensions

Ø£Ù†Ø´Ø¦ Ù…Ù„Ù `Extensions/EndpointExtensions.cs`:

```csharp
using Clinic_API.Data;
using Clinic_API.Models;
using Microsoft.EntityFrameworkCore;

namespace Clinic_API.Extensions;

public static class EndpointExtensions
{
    /// <summary>
    /// ØªØ³Ø¬ÙŠÙ„ endpoints Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
    /// </summary>
    public static void MapUserEndpoints(this WebApplication app)
    {
        var group = app.MapGroup("/api/users")
            .WithTags("Users");

        // GET All
        group.MapGet("/", async (ClinicDbContext db) =>
        {
            var users = await db.TblUsers.ToListAsync();
            return Results.Ok(users);
        })
        .WithName("GetAllUsers");

        // GET By ID
        group.MapGet("/{username}", async (string username, ClinicDbContext db) =>
        {
            var user = await db.TblUsers.FindAsync(username);
            return user == null ? Results.NotFound() : Results.Ok(user);
        })
        .WithName("GetUserByUsername");

        // POST
        group.MapPost("/", async (TblUser user, ClinicDbContext db) =>
        {
            var exists = await db.TblUsers.AnyAsync(u => u.UserName == user.UserName);
            if (exists)
                return Results.BadRequest(new { message = "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯" });

            db.TblUsers.Add(user);
            await db.SaveChangesAsync();
            return Results.Created($"/api/users/{user.UserName}", user);
        })
        .WithName("CreateUser");

        // PUT
        group.MapPut("/{username}", async (string username, TblUser updatedUser, ClinicDbContext db) =>
        {
            var user = await db.TblUsers.FindAsync(username);
            if (user == null) return Results.NotFound();

            user.FullName = updatedUser.FullName;
            user.Email = updatedUser.Email;
            user.IsActive = updatedUser.IsActive;

            await db.SaveChangesAsync();
            return Results.Ok(user);
        })
        .WithName("UpdateUser");

        // DELETE
        group.MapDelete("/{username}", async (string username, ClinicDbContext db) =>
        {
            var user = await db.TblUsers.FindAsync(username);
            if (user == null) return Results.NotFound();

            db.TblUsers.Remove(user);
            await db.SaveChangesAsync();
            return Results.NoContent();
        })
        .WithName("DeleteUser");
    }
}
```

**Ø´Ø±Ø­:**
- `MapGroup("/api/users")` - ØªØ¬Ù…ÙŠØ¹ endpoints ØªØ­Øª Ù…Ø³Ø§Ø± ÙˆØ§Ø­Ø¯
- ÙƒÙ„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ù…Ù„Ù ÙˆØ§Ø­Ø¯

### 9.3 ØªØ¨Ø³ÙŠØ· Program.cs

Ø§Ù„Ø¢Ù† `Program.cs` ÙŠØµØ¨Ø­ Ù†Ø¸ÙŠÙØ§Ù‹:

```csharp
using Clinic_API.Extensions;

var builder = WebApplication.CreateBuilder(args);

// Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
builder.Services.AddApplicationServices(builder.Configuration);

var app = builder.Build();

// Middleware
if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI();
}

app.UseHttpsRedirection();

// ØªØ³Ø¬ÙŠÙ„ Endpoints
app.MapUserEndpoints();

app.Run();
```

**Ø£Ù†Ø¸Ù ÙˆØ£ÙˆØ¶Ø­! âœ¨**

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¹Ø§Ø´Ø±: Data Transfer Objects (DTOs) ğŸ“‹

### 10.1 Ù„Ù…Ø§Ø°Ø§ DTOsØŸ

**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:** Ø¹Ù†Ø¯ Ø¥Ø±Ø¬Ø§Ø¹ Entity Ù…Ø¨Ø§Ø´Ø±Ø©:
- âŒ Ù†ÙƒØ´Ù ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±
- âŒ Ù†ÙƒØ´Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø³Ø©
- âŒ Ù†Ø±Ø³Ù„ Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± Ø¶Ø±ÙˆØ±ÙŠØ©

**Ø§Ù„Ø­Ù„:** DTOs - ÙƒØ§Ø¦Ù†Ø§Øª Ù…Ø®ØµØµØ© Ù„Ù†Ù‚Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### 10.2 Ø¥Ù†Ø´Ø§Ø¡ UserDto

Ø£Ù†Ø´Ø¦ Ù…Ù„Ù `DTOs/UserDto.cs`:

```csharp
namespace Clinic_API.DTOs;

public class UserDto
{
    public string UserName { get; set; } = string.Empty;
    public string FullName { get; set; } = string.Empty;
    public string Email { get; set; } = string.Empty;
    public bool IsActive { get; set; }
}
```

**Ù„Ø§Ø­Ø¸:** Ù„Ø§ ÙŠÙˆØ¬Ø¯ `PasswordHash`!

### 10.3 Ø¥Ù†Ø´Ø§Ø¡ CreateUserDto

```csharp
namespace Clinic_API.DTOs;

public class CreateUserDto
{
    public string UserName { get; set; } = string.Empty;
    public string Password { get; set; } = string.Empty;
    public string FullName { get; set; } = string.Empty;
    public string Email { get; set; } = string.Empty;
}
```

### 10.4 Ø§Ø³ØªØ®Ø¯Ø§Ù… DTOs ÙÙŠ Endpoints

Ø¹Ø¯Ù‘Ù„ `EndpointExtensions.cs`:

```csharp
using Clinic_API.DTOs;

// GET All - Ø¥Ø±Ø¬Ø§Ø¹ DTOs
group.MapGet("/", async (ClinicDbContext db) =>
{
    var users = await db.TblUsers
        .Select(u => new UserDto
        {
            UserName = u.UserName,
            FullName = u.FullName ?? "",
            Email = u.Email ?? "",
            IsActive = u.IsActive ?? true
        })
        .ToListAsync();

    return Results.Ok(users);
});

// POST - Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ CreateUserDto
group.MapPost("/", async (CreateUserDto dto, ClinicDbContext db) =>
{
    var exists = await db.TblUsers.AnyAsync(u => u.UserName == dto.UserName);
    if (exists)
        return Results.BadRequest(new { message = "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯" });

    var user = new TblUser
    {
        UserName = dto.UserName,
        PasswordHash = HashPassword(dto.Password), // Ø¯Ø§Ù„Ø© ØªØ´ÙÙŠØ±
        FullName = dto.FullName,
        Email = dto.Email,
        IsActive = true,
        CreatedOn = DateTime.UtcNow
    };

    db.TblUsers.Add(user);
    await db.SaveChangesAsync();

    return Results.Created($"/api/users/{user.UserName}", new UserDto
    {
        UserName = user.UserName,
        FullName = user.FullName ?? "",
        Email = user.Email ?? "",
        IsActive = user.IsActive ?? true
    });
});

// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„ØªØ´ÙÙŠØ± (Ù…Ø¨Ø³Ø·Ø©)
static string HashPassword(string password)
{
    // ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ØŒ Ø§Ø³ØªØ®Ø¯Ù… BCrypt Ø£Ùˆ Identity
    return Convert.ToBase64String(
        System.Text.Encoding.UTF8.GetBytes(password));
}
```

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø­Ø§Ø¯ÙŠ Ø¹Ø´Ø±: Validation ÙˆØ§Ù„ØªØ­Ù‚Ù‚

### 11.1 Data Annotations

Ø£Ø¶Ù Validation Ø¥Ù„Ù‰ DTOs:

```csharp
using System.ComponentModel.DataAnnotations;

namespace Clinic_API.DTOs;

public class CreateUserDto
{
    [Required(ErrorMessage = "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø·Ù„ÙˆØ¨")]
    [StringLength(100, MinimumLength = 3, ErrorMessage = "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨ÙŠÙ† 3 Ùˆ 100 Ø­Ø±Ù")]
    public string UserName { get; set; } = string.Empty;

    [Required(ErrorMessage = "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù…Ø·Ù„ÙˆØ¨Ø©")]
    [StringLength(255, MinimumLength = 6, ErrorMessage = "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„")]
    public string Password { get; set; } = string.Empty;

    [Required(ErrorMessage = "Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø·Ù„ÙˆØ¨")]
    public string FullName { get; set; } = string.Empty;

    [EmailAddress(ErrorMessage = "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ­ÙŠØ­")]
    public string Email { get; set; } = string.Empty;
}
```

### 11.2 Custom Validation ÙÙŠ Endpoint

```csharp
group.MapPost("/", async (CreateUserDto dto, ClinicDbContext db) =>
{
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ÙŠØ¯ÙˆÙŠ
    if (string.IsNullOrWhiteSpace(dto.UserName))
        return Results.BadRequest(new { message = "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø·Ù„ÙˆØ¨" });

    if (dto.Password.Length < 6)
        return Results.BadRequest(new { message = "ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù‚ØµÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹" });

    // Ø¨Ø§Ù‚ÙŠ Ø§Ù„ÙƒÙˆØ¯...
});
```

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¹Ø´Ø±: JWT Authentication ğŸ”

### 12.1 Ù…ÙÙ‡ÙˆÙ… JWT

**JWT (JSON Web Token)** Ù‡Ùˆ Ø±Ù…Ø² Ù…Ø´ÙØ± ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù….

**Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª:**
1. **Header** - Ù†ÙˆØ¹ Ø§Ù„Ø±Ù…Ø² ÙˆØ§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©
2. **Payload** - Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Username, Roles, etc.)
3. **Signature** - Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ Ù„Ù„ØªØ­Ù‚Ù‚

### 12.2 Ø¥Ø¹Ø¯Ø§Ø¯ JWT ÙÙŠ appsettings.json

```json
{
  "ConnectionStrings": {
    "DefaultConnection": "..."
  },
  "JwtSettings": {
    "SecretKey": "YourSecretKey_MustBeAtLeast32Characters_Clinic2026",
    "Issuer": "Clinic2026_API",
    "Audience": "Clinic2026_Client",
    "ExpirationMinutes": 1440
  }
}
```

### 12.3 Ø¥Ø¶Ø§ÙØ© JWT Authentication

ÙÙŠ `ServiceCollectionExtensions.cs`:

```csharp
using Microsoft.AspNetCore.Authentication.JwtBearer;
using Microsoft.IdentityModel.Tokens;
using System.Text;

public static IServiceCollection AddJwtAuthentication(
    this IServiceCollection services,
    IConfiguration configuration)
{
    var jwtSettings = configuration.GetSection("JwtSettings");
    var secretKey = jwtSettings["SecretKey"];

    services.AddAuthentication(JwtBearerDefaults.AuthenticationScheme)
        .AddJwtBearer(options =>
        {
            options.TokenValidationParameters = new TokenValidationParameters
            {
                ValidateIssuer = true,
                ValidateAudience = true,
                ValidateLifetime = true,
                ValidateIssuerSigningKey = true,
                ValidIssuer = jwtSettings["Issuer"],
                ValidAudience = jwtSettings["Audience"],
                IssuerSigningKey = new SymmetricSecurityKey(
                    Encoding.UTF8.GetBytes(secretKey!))
            };
        });

    services.AddAuthorization();

    return services;
}
```

ÙÙŠ `Program.cs`:

```csharp
builder.Services.AddApplicationServices(builder.Configuration);
builder.Services.AddJwtAuthentication(builder.Configuration);

var app = builder.Build();

// Ø¨Ø¹Ø¯ UseHttpsRedirection
app.UseAuthentication();
app.UseAuthorization();
```

### 12.4 Ø¥Ù†Ø´Ø§Ø¡ Login Endpoint

Ø£Ù†Ø´Ø¦ `DTOs/LoginDto.cs`:

```csharp
namespace Clinic_API.DTOs;

public class LoginDto
{
    public string UserName { get; set; } = string.Empty;
    public string Password { get; set; } = string.Empty;
}
```

Ø£Ù†Ø´Ø¦ `Extensions/AuthEndpoints.cs`:

```csharp
using Clinic_API.Data;
using Clinic_API.DTOs;
using Microsoft.EntityFrameworkCore;
using Microsoft.IdentityModel.Tokens;
using System.IdentityModel.Tokens.Jwt;
using System.Security.Claims;
using System.Text;

namespace Clinic_API.Extensions;

public static class AuthEndpoints
{
    public static void MapAuthEndpoints(this WebApplication app)
    {
        app.MapPost("/api/auth/login", async (
            LoginDto loginDto,
            ClinicDbContext db,
            IConfiguration config) =>
        {
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            var user = await db.TblUsers
                .FirstOrDefaultAsync(u => u.UserName == loginDto.UserName);

            if (user == null)
                return Results.Unauthorized();

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (Ù…Ø¨Ø³Ø·)
            var hashedPassword = Convert.ToBase64String(
                Encoding.UTF8.GetBytes(loginDto.Password));

            if (user.PasswordHash != hashedPassword)
                return Results.Unauthorized();

            // Ø¥Ù†Ø´Ø§Ø¡ Token
            var token = GenerateJwtToken(user.UserName, config);

            return Results.Ok(new { token });
        })
        .WithName("Login")
        .WithTags("Authentication")
        .AllowAnonymous();
    }

    private static string GenerateJwtToken(string username, IConfiguration config)
    {
        var jwtSettings = config.GetSection("JwtSettings");
        var secretKey = jwtSettings["SecretKey"];
        var issuer = jwtSettings["Issuer"];
        var audience = jwtSettings["Audience"];
        var expirationMinutes = int.Parse(jwtSettings["ExpirationMinutes"]!);

        var securityKey = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(secretKey!));
        var credentials = new SigningCredentials(securityKey, SecurityAlgorithms.HmacSha256);

        var claims = new[]
        {
            new Claim(ClaimTypes.Name, username),
            new Claim(JwtRegisteredClaimNames.Jti, Guid.NewGuid().ToString())
        };

        var token = new JwtSecurityToken(
            issuer: issuer,
            audience: audience,
            claims: claims,
            expires: DateTime.UtcNow.AddMinutes(expirationMinutes),
            signingCredentials: credentials
        );

        return new JwtSecurityTokenHandler().WriteToken(token);
    }
}
```

ÙÙŠ `Program.cs`:

```csharp
app.MapAuthEndpoints();
app.MapUserEndpoints();
```

### 12.5 Ø­Ù…Ø§ÙŠØ© Endpoints

```csharp
// ÙÙŠ EndpointExtensions.cs
group.MapGet("/", async (ClinicDbContext db) =>
{
    // ...
})
.RequireAuthorization(); // ÙŠØªØ·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„
```

### 12.6 Ø§Ø®ØªØ¨Ø§Ø± ÙÙŠ Swagger

1. Ø´ØºÙ‘Ù„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
2. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ `/api/auth/login`
3. Ø£Ø¯Ø®Ù„ username Ùˆ password
4. Ø§Ù†Ø³Ø® Ø§Ù„Ù€ Token
5. Ø§Ø¶ØºØ· Ø²Ø± **Authorize** ÙÙŠ Swagger
6. Ø§Ù„ØµÙ‚ Ø§Ù„Ù€ Token
7. Ø¬Ø±Ù‘Ø¨ endpoints Ø§Ù„Ù…Ø­Ù…ÙŠØ©

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø«Ø§Ù„Ø« Ø¹Ø´Ø±: Ø¥Ø¹Ø¯Ø§Ø¯ Swagger Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ğŸ“š

### 13.1 ØªØ®ØµÙŠØµ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª API

ÙÙŠ `ServiceCollectionExtensions.cs`:

```csharp
services.AddSwaggerGen(c =>
{
    c.SwaggerDoc("v1", new OpenApiInfo
    {
        Title = "Clinic2026 API",
        Version = "v1",
        Description = "Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹ÙŠØ§Ø¯Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© - Minimal API",
        TermsOfService = new Uri("https://www.clinic2026.com/terms"),
        Contact = new OpenApiContact
        {
            Name = "ÙØ±ÙŠÙ‚ Ø§Ù„ØªØ·ÙˆÙŠØ±",
            Email = "dev@clinic2026.com",
            Url = new Uri("https://www.clinic2026.com")
        },
        License = new OpenApiLicense
        {
            Name = "MIT",
            Url = new Uri("https://opensource.org/licenses/MIT")
        }
    });

    // Ø¥Ø¶Ø§ÙØ© JWT
    c.AddSecurityDefinition("Bearer", new OpenApiSecurityScheme
    {
        Description = "Ø£Ø¯Ø®Ù„ JWT Token (Ø¨Ø¯ÙˆÙ† ÙƒÙ„Ù…Ø© Bearer)",
        Name = "Authorization",
        In = ParameterLocation.Header,
        Type = SecuritySchemeType.Http,
        Scheme = "bearer",
        BearerFormat = "JWT"
    });

    c.AddSecurityRequirement(new OpenApiSecurityRequirement
    {
        {
            new OpenApiSecurityScheme
            {
                Reference = new OpenApiReference
                {
                    Type = ReferenceType.SecurityScheme,
                    Id = "Bearer"
                }
            },
            new List<string>()
        }
    });
});
```

### 13.2 Ø¥Ø¶Ø§ÙØ© Ø´Ø¹Ø§Ø± Ù…Ø®ØµØµ

1. Ø¶Ø¹ Ø´Ø¹Ø§Ø±Ùƒ ÙÙŠ `wwwroot/images/logo.png`

2. Ø£Ù†Ø´Ø¦ `wwwroot/css/swagger-custom.css`:

```css
.swagger-ui .topbar {
    background-color: #2c3e50;
}

.swagger-ui .topbar-wrapper::before {
    content: "";
    display: inline-block;
    width: 50px;
    height: 50px;
    background-image: url('/images/logo.png');
    background-size: contain;
    background-repeat: no-repeat;
    margin-right: 10px;
    vertical-align: middle;
}

.swagger-ui .info .title {
    color: #2c3e50;
    font-size: 36px;
}
```

3. ÙÙŠ `Program.cs`:

```csharp
app.UseStaticFiles(); // Ù‚Ø¨Ù„ UseSwagger

if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI(c =>
    {
        c.SwaggerEndpoint("/swagger/v1/swagger.json", "Clinic2026 API v1");
        c.DocumentTitle = "Clinic2026 API Documentation";
        c.InjectStylesheet("/css/swagger-custom.css");
    });
}
```

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø±Ø§Ø¨Ø¹ Ø¹Ø´Ø±: Error Handling Ø§Ù„Ù…ØªÙ‚Ø¯Ù… âš ï¸

### 14.1 Global Exception Middleware

Ø£Ù†Ø´Ø¦ `Middleware/GlobalExceptionMiddleware.cs`:

```csharp
using System.Net;
using System.Text.Json;

namespace Clinic_API.Middleware;

public class GlobalExceptionMiddleware
{
    private readonly RequestDelegate _next;
    private readonly ILogger<GlobalExceptionMiddleware> _logger;

    public GlobalExceptionMiddleware(
        RequestDelegate next,
        ILogger<GlobalExceptionMiddleware> logger)
    {
        _next = next;
        _logger = logger;
    }

    public async Task InvokeAsync(HttpContext context)
    {
        try
        {
            await _next(context);
        }
        catch (Exception ex)
        {
            _logger.LogError(ex, "Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹");
            await HandleExceptionAsync(context, ex);
        }
    }

    private static Task HandleExceptionAsync(HttpContext context, Exception exception)
    {
        context.Response.ContentType = "application/json";
        context.Response.StatusCode = (int)HttpStatusCode.InternalServerError;

        var response = new
        {
            statusCode = context.Response.StatusCode,
            message = "Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±",
            detailed = exception.Message
        };

        var json = JsonSerializer.Serialize(response);
        return context.Response.WriteAsync(json);
    }
}
```

ÙÙŠ `Program.cs`:

```csharp
app.UseMiddleware<GlobalExceptionMiddleware>();
```

---

## Ø§Ù„ÙØµÙ„ Ø§Ù„Ø®Ø§Ù…Ø³ Ø¹Ø´Ø±: Output Caching âš¡

### 15.1 Ø¥Ø¹Ø¯Ø§Ø¯ Caching

ÙÙŠ `ServiceCollectionExtensions.cs`:

```csharp
services.AddOutputCache(options =>
{
    // Ø³ÙŠØ§Ø³Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
    options.AddBasePolicy(builder =>
        builder.Expire(TimeSpan.FromMinutes(5)));

    // Ø³ÙŠØ§Ø³Ø© Ù„Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠØ© (Lookup)
    options.AddPolicy("LookupPolicy", builder =>
        builder.Expire(TimeSpan.FromDays(1)));
});
```

ÙÙŠ `Program.cs`:

```csharp
app.UseOutputCache(); // Ø¨Ø¹Ø¯ UseAuthorization
```

### 15.2 Ø§Ø³ØªØ®Ø¯Ø§Ù… Cache

```csharp
group.MapGet("/", async (ClinicDbContext db) =>
{
    // ...
})
.CacheOutput("LookupPolicy");
```

---

## Ø§Ù„Ø®Ø§ØªÙ…Ø© ÙˆØ§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© ğŸ¯

### Ù…Ø§ ØªØ¹Ù„Ù…Ù†Ø§Ù‡

âœ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Minimal API Ù…Ù† Ø§Ù„ØµÙØ±
âœ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª SQL Server
âœ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Entity Framework Core
âœ… Ø¨Ù†Ø§Ø¡ CRUD Operations ÙƒØ§Ù…Ù„Ø©
âœ… ØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙƒÙˆØ¯ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Extensions
âœ… Ø§Ø³ØªØ®Ø¯Ø§Ù… DTOs
âœ… ØªØ·Ø¨ÙŠÙ‚ JWT Authentication
âœ… ØªØ®ØµÙŠØµ Swagger
âœ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
âœ… ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¨Ù€ Caching

### Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©

1. **Testing** - ØªØ¹Ù„Ù… Unit Testing Ùˆ Integration Testing
2. **Logging** - Ø§Ø³ØªØ®Ø¯Ø§Ù… Serilog Ù„Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
3. **Docker** - Ù†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Containers
4. **CI/CD** - Ø£ØªÙ…ØªØ© Ø§Ù„Ù†Ø´Ø± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… GitHub Actions
5. **Microservices** - ØªÙ‚Ø³ÙŠÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¥Ù„Ù‰ Ø®Ø¯Ù…Ø§Øª ØµØºÙŠØ±Ø©

### Ù…ØµØ§Ø¯Ø± Ø¥Ø¶Ø§ÙÙŠØ©

- [Microsoft Docs - Minimal APIs](https://learn.microsoft.com/aspnet/core/fundamentals/minimal-apis)
- [Entity Framework Core](https://learn.microsoft.com/ef/core/)
- [JWT.io](https://jwt.io/)

---

**ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! ğŸ‰ Ø£Ù†Øª Ø§Ù„Ø¢Ù† Ù…Ø·ÙˆØ± Minimal API Ù…Ø­ØªØ±Ù!**
